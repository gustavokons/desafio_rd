!function(t){t.fn.easyForm=function(a){var o={modal:!1},e=t.extend(o,a),l={nome:"",email:""},n=t(this),s=""
return this.each(function(){if("undefined"!=typeof e.fields&&Object.keys(e.fields).length>0)for(var a in e.fields)l[a]=e.fields[a]
for(var a in l)if(""==l[a])s+="<div class='form-group'><label for='"+a+"'>"+a.toUpperCase()+"</label><input type='text' name='"+a+"' id='"+a+"' class='form-control' value=''></div>"
else{for(s+="<div class='form-group'><label for='"+a+"'>"+a.toUpperCase()+"</label><select name='"+a+"' id='"+a+"' class='form-control' value=''><option value=''>Selecione</option>",i=0;i<l[a].length;i++)s+="<option>"+l[a][i]+"</option>"
s+="</select></div>"}e.modal?(n.append("<div class='container'><button type='button' class='btn btn-default btn-lg' id='btn-modal'>Baixe agora nosso material</button><div class='modal fade' id='modal-form' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'>&times;</button><h4><span class='glyphicon       glyphicon-download-alt'></span> Baixe agora nosso material</h4></div><div class='modal-body'><form role='form'>"+s+"           <button type='button' id='btn-submit-form' class='btn btn-default btn-success btn-block'>Baixar</button></form></div></div></div></div></div>"),t("#btn-modal").on("click",function(){t("#modal-form").modal()})):n.append("<div class='container'><form role='form'>"+s+"<button type='button' id='btn-submit-form' class='btn btn-default btn-success btn-block'>Baixar</button></form></div></div></div></div></div></form></div'>"),t("#btn-submit-form").on("click",function(){""!=t("#nome").val()&&""!=t("#email").val()?t.ajax({url:"./api/teste",contentType:"application/json",dataType:"json",data:JSON.stringify({token:e.token,secret:e.secret,nome:t("#nome").val(),email:t("#email").val()}),method:"POST",error:function(a){500==a.status&&t("#btn-submit-form").after("<div class='alert alert-danger' role='alert'>Token or Secret API invalid!</div>")},success:function(a){t("#btn-submit-form").after("<div class='alert alert-success' role='alert'>"+a.data.email+" inserted leads database</div>")}}):t("#btn-submit-form").after("<div class='alert alert-danger' role='alert'>Os campos Nome e E-mail são obrigatórios!</div>")})})}}(jQuery)
