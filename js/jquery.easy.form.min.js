function EasyForm(t,i){var s={modal:!1}
this.element=$(t),this.settings=$.extend({},s,i),this.fields={nome:"",email:""},this.form="",this.init(),this.toHtml(),this.request(this.settings)}EasyForm.prototype.init=function(){if("undefined"!=typeof this.settings.fields&&Object.keys(this.settings.fields).length>0)for(var t in this.settings.fields)this.fields[t]=this.settings.fields[t]
for(var t in this.fields)if(""==this.fields[t])this.form+="<div class='form-group'><label for='"+t+"'>"+t.toUpperCase()+"*</label><input type='text' name='"+t+"' id='"+t+"' class='form-control' value=''></div>"
else{for(this.form+="<div class='form-group'><label for='"+t+"'>"+t.toUpperCase()+"</label><select name='"+t+"' id='"+t+"' class='form-control' value=''><option value=''>Selecione</option>",i=0;i<this.fields[t].length;i++)this.form+="<option>"+this.fields[t][i]+"</option>"
this.form+="</select></div>"}},EasyForm.prototype.toHtml=function(){this.settings.modal?(this.element.append("<div class='container'><button type='button' class='btn btn-default btn-lg' id='btn-modal'>Baixe agora nosso material</button><div class='modal fade' id='modal-form' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-header'><button type='button' class='close' data-dismiss='modal'>&times;</button><h4><span class='glyphicon       glyphicon-download-alt'></span> Baixe agora nosso material</h4></div><div class='modal-body'><form role='form'>"+this.form+" <button type='button' id='btn-submit-form' class='btn btn-default btn-success btn-block'>Baixar</button></form></div></div></div></div></div>"),$("#btn-modal").on("click",function(){$("#modal-form").modal()})):this.element.append("<div class='container'><form role='form'>"+this.form+"<button type='button' id='btn-submit-form' class='btn btn-default btn-success btn-block'>Baixar</button></form></div></div></div></div></div></form></div'>")},EasyForm.prototype.request=function(t){$("#btn-submit-form").on("click",function(){""!=$("#nome").val()&&""!=$("#email").val()?$.ajax({url:"./api/teste",contentType:"application/json",dataType:"json",data:JSON.stringify({token:t.token,secret:t.secret,nome:$("#nome").val(),email:$("#email").val()}),method:"POST",error:function(t){500==t.status&&$("#btn-submit-form").after("<div class='alert alert-danger' role='alert'>Token or Secret API invalid!</div>")},success:function(t){$("#btn-submit-form").after("<div class='alert alert-success' role='alert'>"+t.data.email+" inserted leads database</div>")}}):$("#btn-submit-form").after("<div class='alert alert-danger' role='alert'>Os campos Nome e E-mail são obrigatórios!</div>")})},function(t){t.fn.easyForm=function(i){return this.each(function(){t(this).data("plugin_easyform")||t(this).data("plugin_easyform",new EasyForm(this,i))})}}(window.jQuery,window)
